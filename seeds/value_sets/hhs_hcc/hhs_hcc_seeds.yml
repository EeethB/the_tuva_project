version: 2

seeds:
  - name: hhs_hcc__cpt_hcpcs
    description: >
      CPT/HCPCS encounter filtering included list by payment year. Combined 
      and cleaned version of HHS HCC code files on cms.gov.
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_hhs_hcc{% else %}hhs_hcc{%- endif -%}
      alias: _value_set_cpt_hcpcs # Does this need to be unique across marts?
      tags: hhs_hcc
      enabled: "{{ var('hhs_hcc_enabled',var('tuva_marts_enabled',True)) }}"
      column_types:
        payment_year: |
          integer
        hcpcs_cpt_code: |
          {%- if target.type in ("bigquery", "databricks") -%} string {%- else -%} varchar {%- endif -%}
        included_flag: |
          {%- if target.type in ("bigquery", "databricks") -%} string {%- else -%} varchar {%- endif -%}

  - name: hhs_hcc__icd_10_cm_mappings
    description: >
      ICD-10 to HCC mapping by payment year and model version. Combined and 
      cleaned version of HHS HCC code files on cms.gov.
    config:
      schema: |
        {%- if var('tuva_schema_prefix',None) != None -%}{{var('tuva_schema_prefix')}}_hhs_hcc{% else %}hhs_hcc{%- endif -%}
      alias: _value_set_icd_10_cm_mappings
      tags: hhs_hcc
      enabled: "{{ var('hhs_hcc_enabled',var('tuva_marts_enabled',True)) }}"
      column_types:
        payment_year: |
          integer
        diagnosis_code: |
          {%- if target.type in ("bigquery", "databricks") -%} string {%- else -%} varchar {%- endif -%}
        age_at_diag_min: |
          integer
        age_at_diag_max: |
          integer
        age_last_min: |
          integer
        age_last_max: |
          integer
        hhs_hcc: |
          {%- if target.type in ("bigquery", "databricks") -%} string {%- else -%} varchar {%- endif -%}
